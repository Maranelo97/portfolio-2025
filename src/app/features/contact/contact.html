<section class="min-h-screen py-16 bg-gray-900 transition-colors duration-500 overflow-x-hidden">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div #headerSection class="text-center mb-12">
      <h2 class="text-4xl font-extrabold text-white">Hablemos de tu Proyecto</h2>
      <p class="text-xl text-gray-400 mt-2">Estoy disponible para nuevos desafíos.</p>
    </div>

    <div
      class="lg:grid lg:grid-cols-3 lg:gap-12 bg-gray-800 shadow-xl rounded-xl p-8 sm:p-12 overflow-hidden">
      <div class="lg:col-span-1 border-r border-gray-700 pr- lg:pr-12 mb-8 lg:mb-0">
        <h3 class="text-2xl font-bold text-indigo-400 mb-4">Detalles</h3>
        <p class="text-gray-400 mb-6">Comunicación directa por email para videollamadas.</p>
      </div>

      <div class="lg:col-span-2">
        <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" class="space-y-6">
          <div class="form-field">
            <label for="name" class="block text-sm font-medium text-gray-300">Nombre</label>
            <input
              type="text"
              id="name"
              formControlName="name"
              class="mt-1 block w-full rounded-md p-3 bg-gray-700 border-gray-600 text-white transition-all duration-300 shadow-sm hover:scale-[1.02] hover:shadow-[0_0_15px_rgba(79,70,229,0.4)]"
              [ngClass]="{ 'border-red-500 shadow-red-500': f.name.invalid && f.name.touched }" />
            <div class="text-red-500 text-sm mt-2 min-h-6">
              <span *ngIf="f.name.invalid && f.name.touched">El nombre es obligatorio.</span>
            </div>
          </div>

          <div class="form-field">
            <label for="email" class="block text-sm font-medium text-gray-300">Email</label>
            <input
              type="email"
              id="email"
              formControlName="email"
              class="mt-1 block w-full rounded-md p-3 bg-gray-700 border-gray-600 text-white transition-all duration-300 shadow-sm hover:scale-[1.02] hover:shadow-[0_0_15px_rgba(79,70,229,0.4)]"
              [ngClass]="{ 'border-red-500 shadow-red-500': f.email.invalid && f.email.touched }" />
            <div class="text-red-500 text-sm mt-2 min-h-6">
              <span *ngIf="f.email.invalid && f.email.touched">
                {{
                  f.email.errors?.['required']
                    ? 'El email es obligatorio.'
                    : 'Formato de email inválido.'
                }}
              </span>
            </div>
          </div>

          <div class="form-field">
            <label for="subject" class="block text-sm font-medium text-gray-300">Asunto</label>
            <input
              type="text"
              id="subject"
              formControlName="subject"
              class="mt-1 block w-full rounded-md p-3 bg-gray-700 border-gray-600 text-white shadow-sm transition-all duration-300 hover:scale-[1.02] hover:shadow-[0_0_15px_rgba(79,70,229,0.4)]"
              [ngClass]="{
                'border-red-500 shadow-red-500': f.subject.invalid && f.subject.touched,
              }" />
            <div class="text-red-500 text-sm mt-2 min-h-6">
              <span *ngIf="f.subject.invalid && f.subject.touched">El asunto es obligatorio.</span>
            </div>
          </div>

          <div class="form-field">
            <label for="message" class="block text-sm font-medium text-gray-300">Mensaje</label>
            <textarea
              id="message"
              formControlName="message"
              rows="4"
              class="mt-1 block w-full rounded-md p-3 bg-gray-700 border-gray-600 text-white transition-all shadow-sm duration-300 hover:scale-[1.02] hover:shadow-[0_0_15px_rgba(79,70,229,0.4)]"
              [ngClass]="{
                'border-red-500 shadow-red-500': f.message.invalid && f.message.touched,
              }"></textarea>
            <div class="text-red-500 text-sm mt-2 min-h-6">
              <span *ngIf="f.message.invalid && f.message.touched">
                {{
                  f.message.errors?.['required'] ? 'Mensaje obligatorio.' : 'Mínimo 20 caracteres.'
                }}
              </span>
            </div>
          </div>

          <div class="form-field">
            <button
              type="submit"
              [disabled]="contactForm.invalid || isSubmitting"
              class="w-full flex justify-center py-3 px-4 rounded-md shadow-sm text-lg font-medium text-white bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50 transition-all duration-200">
              <span *ngIf="isSubmitting" class="flex items-center">Enviando...</span>
              <span *ngIf="!isSubmitting">Enviar Mensaje</span>
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <app-toast-notification
    *ngIf="showToast"
    [type]="toastType"
    [title]="toastTitle"
    [message]="toastMessage"
    (closed)="onToastClosed()"></app-toast-notification>
</section>
