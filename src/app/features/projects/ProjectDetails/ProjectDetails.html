<div class="mx-auto px-4 py-16 bg-gray-900 min-h-screen w-full">
  @if (project$ | async; as project) {
    @if (project) {
      <div class="max-w-7xl mx-auto">
        <header class="mb-12 border-b border-gray-700 pb-8 animate-item">
          <h1 class="text-5xl font-extrabold text-white mb-4">
            {{ project.title }}
          </h1>

          <p class="text-xl text-indigo-400 font-medium mb-4">
            Finalizado en {{ project.completionDate }}
          </p>

          <div class="flex space-x-4 mt-6">
            @if (project.liveUrl) {
              <app-button
                appGlassParallax
                label="Ver Proyecto en Vivo"
                (onClick)="goToLink(project.liveUrl)"
                [styles]="[
                  'relative',
                  'px-8',
                  'py-4',
                  'text-lg',
                  'font-bold',
                  'rounded-xl',
                  'text-white',
                  'bg-indigo-600/20',
                  'border',
                  'border-white/20',
                  'backdrop-blur-md',
                  '-skew-x-12',
                  'shadow-[0_0_15px_rgba(79,70,229,0.3)]',
                  'hover:shadow-[0_0_30px_rgba(79,70,229,0.6)]',
                  'transition-all',
                  'duration-500',
                  'hover:bg-indigo-500/40',
                  'hover:border-white/50',
                ]"></app-button>
            }

            @if (project.repoUrl) {
              <app-button
                appGlassParallax
                label="Source Code"
                (onClick)="goToLink(project.repoUrl)"
                [styles]="[
                  'relative',
                  'px-8',
                  'py-4',
                  'text-lg',
                  'font-bold',
                  'rounded-xl',
                  'text-white',
                  'bg-cyan-900',
                  'border',
                  'border-white/20',
                  'backdrop-blur-md',
                  '-skew-x-12',
                  'shadow-[0_0_15px_rgba(79,70,229,0.3)]',
                  'hover:shadow-[0_0_30px_rgba(79,70,229,0.6)]',
                  'transition-all',
                  'duration-500',
                  'hover:bg-cyan-700',
                  'hover:border-white/50',
                ]"></app-button>
            }
          </div>
        </header>

        <main class="grid lg:grid-cols-3 gap-12">
          <div class="lg:col-span-2 text-gray-300 text-lg leading-relaxed animate-item">
            <p class="mb-6 whitespace-pre-wrap">
              {{ project.fullDescription }}
            </p>

            <img
              [src]="project.cardImageUrl"
              [alt]="'Imagen principal de ' + project.title"
              class="w-full rounded-lg shadow-2xl mt-8 opacity-90" />
          </div>

          <aside class="lg:col-span-1 animate-item">
            <div class="p-6 rounded-lg bg-gray-800 shadow-inner sticky top-8">
              <h3 class="text-2xl font-bold text-white mb-4">Tecnolog√≠as Utilizadas</h3>

              <div class="flex flex-wrap gap-3">
                @for (tech of project.technologies; track tech) {
                  <span
                    class="text-sm font-medium px-4 py-1 rounded-full bg-indigo-500 text-white shadow-md">
                    {{ tech }}
                  </span>
                }
              </div>
            </div>
          </aside>
        </main>
      </div>
    } @else {
      <div class="text-center py-20 animate-item">
        <h2 class="text-5xl font-extrabold text-red-400 mb-4">Error 404</h2>
        <p class="text-2xl text-gray-300 mb-8">
          Lo sentimos, el proyecto solicitado no se ha encontrado.
        </p>
        <a routerLink="/projects" class="text-lg text-indigo-500 hover:underline">
          Volver a la lista de proyectos
        </a>
      </div>
    }
  }
</div>
