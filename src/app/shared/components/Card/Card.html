<div
  (click)="onHandleClick($event)"
  [routerLink]="data.link"
  [queryParams]="data.queryParams"
  [class.cursor-pointer]="data.link"
  class="group relative block overflow-hidden rounded-3xl transition-all duration-700 ease-[cubic-bezier(0.23,1,0.32,1)] bg-gray-900/40 backdrop-blur-xl border border-white/10 shadow-2xl hover:-translate-y-3 hover:shadow-indigo-500/20 hover:border-white/20">
  <div
    class="absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 bg-[radial-gradient(circle_at_var(--x,50%)_var(--y,50%),rgba(99,102,241,0.15)_0%,transparent_70%)]"></div>

  <div
    class="absolute -inset-px bg-linear-to-r from-transparent via-indigo-500/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-1000 group-hover:animate-[scan_3s_linear_infinite] z-0"></div>

  @if (data.imageUrl) {
    <div class="h-56 overflow-hidden relative">
      <img
        [src]="data.imageUrl"
        [alt]="data.title"
        class="w-full h-full object-cover transition-transform duration-[1.5s] ease-out group-hover:scale-110 group-hover:rotate-1" />
      <div
        class="absolute inset-0 bg-linear-to-t from-gray-950 via-gray-900/20 to-transparent"></div>

      <div
        class="absolute top-4 right-4 px-3 py-1 rounded-full bg-white/10 backdrop-blur-md border border-white/20 text-[10px] font-bold text-white uppercase tracking-tighter shadow-xl">
        {{ data.tags[0] }}
      </div>
    </div>
  }

  <div class="p-8 relative z-10">
    <h3 class="text-2xl font-black text-white mb-2 flex items-center gap-2">
      <span
        class="bg-bottom-left bg-linear-to-r from-indigo-400 to-indigo-400 bg-size-[0%_2px] bg-no-repeat group-hover:bg-size-[100%_2px] transition-all duration-500 pb-1">
        {{ data.title }}
      </span>
    </h3>

    @if (data.subtitle) {
      <p
        class="text-indigo-400 font-bold text-xs mb-4 uppercase tracking-[0.2em] flex items-center">
        <span class="w-4 h-px bg-indigo-500 mr-2"></span>
        {{ data.subtitle }}
      </p>
    }

    <p
      class="text-gray-400 mb-8 leading-relaxed font-light text-sm line-clamp-3 group-hover:text-gray-200 transition-colors">
      {{ data.description }}
    </p>

    <div class="flex flex-wrap gap-2 mb-8">
      @for (tag of data.tags; track tag) {
        <span
          class="px-3 py-1.5 rounded-lg bg-indigo-500/5 text-indigo-300 border border-indigo-500/20 text-[10px] font-bold uppercase hover:bg-indigo-500 hover:text-white transition-all duration-300">
          {{ tag }}
        </span>
      }
    </div>

    <div class="flex justify-between items-center border-t border-white/5 pt-6">
      <div class="flex items-center gap-3">
        <div class="relative">
          <span class="absolute inset-0 rounded-full bg-indigo-400 animate-ping opacity-20"></span>
          <span class="relative block w-2 h-2 rounded-full bg-indigo-500"></span>
        </div>
        <span class="text-[10px] font-bold text-gray-500 uppercase tracking-widest">
          {{ data.footerText }}
        </span>
      </div>

      @if (data.link) {
        <div class="flex items-center gap-2 text-white group/btn">
          <span
            class="text-[10px] font-black uppercase tracking-widest opacity-0 -translate-x-2 group-hover:opacity-100 group-hover:translate-x-0 transition-all duration-300">
            Explorar
          </span>
          <div
            class="p-3 rounded-full bg-indigo-500 text-white shadow-[0_0_15px_rgba(99,102,241,0.4)] group-hover:rotate-360 transition-all duration-700">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="3"
                d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
            </svg>
          </div>
        </div>
      }
    </div>
  </div>
</div>
